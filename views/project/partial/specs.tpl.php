<?phpinclude_once TEMPLATE_PATH.'/site/helper/format.php';$project = $SOUP->get('project');// only organizers or creator may edit$hasPermission = ( Session::isAdmin() ||					ProjectUser::isOrganizer(Session::getUserID(), $project->getID()) ||					ProjectUser::isCreator(Session::getUserID(), $project->getID()) );$formattedSpecs = formatSpecs($project->getSpecs());										$fork = $SOUP->fork();$fork->set('title', "Specs");$fork->set('id', "specs");$fork->set('editable', $hasPermission);//$fork->set('editLabel', 'Edit Specs');$fork->startBlockSet('body');?><?php if($hasPermission): ?><script type="text/javascript">$(document).ready(function(){	$("#btnSaveSpecs").mousedown(function(){		buildPost({			'processPage':'<?= Url::detailsProcess($project->getID()) ?>',			'info':			{				'action':'specs',				'specs':$("#txtSpecs").val()			},			'buttonID':'#btnSaveSpecs'		});	});	$("#btnCancelSpecs").mousedown(function(){		$("#specs .edit").hide();		$("#specs .view").fadeIn();	});	$("#specs .editButton").click(function(){		var edit = $("#specs .edit");		var view = $("#specs .view");		toggleEditView(edit, view);		if($(view).is(":hidden"))			$('#txtSpecs').focus();	});});</script><div class="edit hidden"><div class="clear">	<label for="txtSpecs">Specs<span class="required">*</span></label>	<div class="input">		<textarea id="txtSpecs"><?= html_entity_decode($project->getSpecs()) ?></textarea>		<p>One spec per line</p>	</div></div><div class="clear">	<div class="input">		<input id="btnSaveSpecs" type="button" value="Save" />		<input id="btnCancelSpecs" type="button" value="Cancel" />	</div></div></div><?php endif; ?><div class="view"><?phpif($formattedSpecs != null) {	echo '<ul class="segmented-list specs">';	foreach($formattedSpecs as $spec)		echo '<li>'.$spec.'</li>';	echo '</ul>';} else {	echo "<p>(none)</p>";}?></div><?php$fork->endBlockSet();$fork->render('site/partial/panel');