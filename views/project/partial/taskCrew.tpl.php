<?phpinclude_once TEMPLATE_PATH.'/site/helper/format.php';$task = $SOUP->get('task');$accepted = $SOUP->get('accepted', array());// num needed$numAccepted = $task->getNumAccepted();$numNeeded = $task->getNumNeeded();if($numNeeded == 0)	$numNeeded = '&#8734; people';else {	$numNeeded -= $numAccepted;	$numNeeded = formatCount($numNeeded,'person','people');}$fork = $SOUP->fork();$fork->startBlockSet('body');$fork->set('title', 'Task Crew');$fork->set('creatable', true);$fork->set('createLabel', 'Join');?><script type="text/javascript">$(document).ready(function() {	var acceptButton = $('#accepted .createButton');	acceptButton.mousedown(function() {		buildPost({			'processPage': '<?= Url::taskProcess($task->getID()) ?>',			'info':{				'action': 'accept'			},			'buttonID': acceptButton		});	});});</script><p><?= $numNeeded ?> needed <span class="slash">/</span> <?= formatCount(count($accepted),'person','people') ?> joined</p><?phpif($accepted != null) {	echo '<div class="line"></div>';	echo '<p>';	foreach($accepted as $accept) {		$username = User::load($accept->getCreatorID())->getUsername();		echo '<a class="picture small" href="'.Url::user($accept->getCreatorID()).'" title="'.$username.'"><img src="'.Url::userPictureSmall($accept->getCreatorID()).'" /></a> ';	}	echo '</p>';	echo '<div class="clear"></div>';}	?><?php$fork->endBlockSet();$fork->render('site/partial/panel');